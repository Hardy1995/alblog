{"version":3,"sources":["jquery.flot.selection.min.js"],"names":[],"mappings":"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","file":"jquery.flot.selection.min-compiled.js","sourcesContent":["(function($){function init(plot){var selection={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var savedhandlers={};var mouseUpHandler=null;function onMouseMove(e){if(selection.active){updateSelection(e);plot.getPlaceholder().trigger(\"plotselecting\",[getSelection()])}}function onMouseDown(e){if(e.which!=1)return;document.body.focus();if(document.onselectstart!==undefined&&savedhandlers.onselectstart==null){savedhandlers.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&savedhandlers.ondrag==null){savedhandlers.ondrag=document.ondrag;document.ondrag=function(){return false}}setSelectionPos(selection.first,e);selection.active=true;mouseUpHandler=function(e){onMouseUp(e)};$(document).one(\"mouseup\",mouseUpHandler)}function onMouseUp(e){mouseUpHandler=null;if(document.onselectstart!==undefined)document.onselectstart=savedhandlers.onselectstart;if(document.ondrag!==undefined)document.ondrag=savedhandlers.ondrag;selection.active=false;updateSelection(e);if(selectionIsSane())triggerSelectedEvent();else{plot.getPlaceholder().trigger(\"plotunselected\",[]);plot.getPlaceholder().trigger(\"plotselecting\",[null])}return false}function getSelection(){if(!selectionIsSane())return null;if(!selection.show)return null;var r={},c1=selection.first,c2=selection.second;$.each(plot.getAxes(),function(name,axis){if(axis.used){var p1=axis.c2p(c1[axis.direction]),p2=axis.c2p(c2[axis.direction]);r[name]={from:Math.min(p1,p2),to:Math.max(p1,p2)}}});return r}function triggerSelectedEvent(){var r=getSelection();plot.getPlaceholder().trigger(\"plotselected\",[r]);if(r.xaxis&&r.yaxis)plot.getPlaceholder().trigger(\"selected\",[{x1:r.xaxis.from,y1:r.yaxis.from,x2:r.xaxis.to,y2:r.yaxis.to}])}function clamp(min,value,max){return value<min?min:value>max?max:value}function setSelectionPos(pos,e){var o=plot.getOptions();var offset=plot.getPlaceholder().offset();var plotOffset=plot.getPlotOffset();pos.x=clamp(0,e.pageX-offset.left-plotOffset.left,plot.width());pos.y=clamp(0,e.pageY-offset.top-plotOffset.top,plot.height());if(o.selection.mode==\"y\")pos.x=pos==selection.first?0:plot.width();if(o.selection.mode==\"x\")pos.y=pos==selection.first?0:plot.height()}function updateSelection(pos){if(pos.pageX==null)return;setSelectionPos(selection.second,pos);if(selectionIsSane()){selection.show=true;plot.triggerRedrawOverlay()}else clearSelection(true)}function clearSelection(preventEvent){if(selection.show){selection.show=false;plot.triggerRedrawOverlay();if(!preventEvent)plot.getPlaceholder().trigger(\"plotunselected\",[])}}function extractRange(ranges,coord){var axis,from,to,key,axes=plot.getAxes();for(var k in axes){axis=axes[k];if(axis.direction==coord){key=coord+axis.n+\"axis\";if(!ranges[key]&&axis.n==1)key=coord+\"axis\";if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis=coord==\"x\"?plot.getXAxes()[0]:plot.getYAxes()[0];from=ranges[coord+\"1\"];to=ranges[coord+\"2\"]}if(from!=null&&to!=null&&from>to){var tmp=from;from=to;to=tmp}return{from:from,to:to,axis:axis}}function setSelection(ranges,preventEvent){var axis,range,o=plot.getOptions();if(o.selection.mode==\"y\"){selection.first.x=0;selection.second.x=plot.width()}else{range=extractRange(ranges,\"x\");selection.first.x=range.axis.p2c(range.from);selection.second.x=range.axis.p2c(range.to)}if(o.selection.mode==\"x\"){selection.first.y=0;selection.second.y=plot.height()}else{range=extractRange(ranges,\"y\");selection.first.y=range.axis.p2c(range.from);selection.second.y=range.axis.p2c(range.to)}selection.show=true;plot.triggerRedrawOverlay();if(!preventEvent&&selectionIsSane())triggerSelectedEvent()}function selectionIsSane(){var minSize=plot.getOptions().selection.minSize;return Math.abs(selection.second.x-selection.first.x)>=minSize&&Math.abs(selection.second.y-selection.first.y)>=minSize}plot.clearSelection=clearSelection;plot.setSelection=setSelection;plot.getSelection=getSelection;plot.hooks.bindEvents.push(function(plot,eventHolder){var o=plot.getOptions();if(o.selection.mode!=null){eventHolder.mousemove(onMouseMove);eventHolder.mousedown(onMouseDown)}});plot.hooks.drawOverlay.push(function(plot,ctx){if(selection.show&&selectionIsSane()){var plotOffset=plot.getPlotOffset();var o=plot.getOptions();ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var c=$.color.parse(o.selection.color);ctx.strokeStyle=c.scale(\"a\",.8).toString();ctx.lineWidth=1;ctx.lineJoin=o.selection.shape;ctx.fillStyle=c.scale(\"a\",.4).toString();var x=Math.min(selection.first.x,selection.second.x)+.5,y=Math.min(selection.first.y,selection.second.y)+.5,w=Math.abs(selection.second.x-selection.first.x)-1,h=Math.abs(selection.second.y-selection.first.y)-1;ctx.fillRect(x,y,w,h);ctx.strokeRect(x,y,w,h);ctx.restore()}});plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind(\"mousemove\",onMouseMove);eventHolder.unbind(\"mousedown\",onMouseDown);if(mouseUpHandler)$(document).unbind(\"mouseup\",mouseUpHandler)})}$.plot.plugins.push({init:init,options:{selection:{mode:null,color:\"#e8cfac\",shape:\"round\",minSize:5}},name:\"selection\",version:\"1.1\"})})(jQuery);"]}